"use strict";(self.webpackChunkpersonal_website_reach=self.webpackChunkpersonal_website_reach||[]).push([[550],{4258:function(e,t,n){n.r(t);n(8845),n(373);var l=n(6540),r=n(9616),a=n(765);const o=(0,r.createGlobalStyle)(["html,body{margin:0;padding:0;background:#0d0f11;overflow:hidden;}"]),i=r.default.div.withConfig({displayName:"game-of-life-embed__Wrap",componentId:"sc-t109en-0"})(["display:flex;flex-direction:column;align-items:center;padding:8px;color:#fff;background:#0d0f11;height:100vh;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;"]),c=r.default.div.withConfig({displayName:"game-of-life-embed__Controls",componentId:"sc-t109en-1"})(["display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-bottom:6px;flex-shrink:0;"]),s=r.default.div.withConfig({displayName:"game-of-life-embed__ControlGroup",componentId:"sc-t109en-2"})(["display:flex;flex-direction:column;gap:1px;label{font-size:0.55rem;color:rgba(255,255,255,0.4);text-transform:uppercase;letter-spacing:0.05em;}"]),u=r.default.select.withConfig({displayName:"game-of-life-embed__Select",componentId:"sc-t109en-3"})(["background:#17191b;color:#fff;border:1px solid rgba(127,161,232,0.4);border-radius:4px;padding:3px 6px;font-size:0.7rem;cursor:pointer;"]),d=r.default.input.withConfig({displayName:"game-of-life-embed__Slider",componentId:"sc-t109en-4"})(["accent-color:#7fa1e8;width:60px;"]),f=r.default.button.withConfig({displayName:"game-of-life-embed__Btn",componentId:"sc-t109en-5"})(["background:",";color:#fff;border:1px solid rgba(127,161,232,0.4);border-radius:4px;padding:3px 10px;font-size:0.7rem;cursor:pointer;&:hover{background:",";}"],e=>e.$primary?"#7fa1e8":"rgba(127,161,232,0.15)",e=>e.$primary?"#5b88d4":"rgba(127,161,232,0.3)"),m=r.default.div.withConfig({displayName:"game-of-life-embed__CanvasWrap",componentId:"sc-t109en-6"})(["flex:1;display:flex;align-items:center;justify-content:center;width:100%;min-height:0;position:relative;"]),p=r.default.div.withConfig({displayName:"game-of-life-embed__Stats",componentId:"sc-t109en-7"})(["display:flex;gap:14px;padding:4px 0;font-size:0.65rem;color:rgba(255,255,255,0.5);flex-shrink:0;span{color:#7fa1e8;font-weight:bold;}"]),g=r.default.div.withConfig({displayName:"game-of-life-embed__Overlay",componentId:"sc-t109en-8"})(["position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(13,15,17,0.88);border-radius:4px;z-index:10;"]),b=r.default.h2.withConfig({displayName:"game-of-life-embed__OverlayTitle",componentId:"sc-t109en-9"})(["color:#7fa1e8;margin:0 0 8px;font-size:1.1rem;"]),h=r.default.div.withConfig({displayName:"game-of-life-embed__OverlayStat",componentId:"sc-t109en-10"})(["color:rgba(255,255,255,0.7);font-size:0.75rem;margin:2px 0;span{color:#7fa1e8;font-weight:bold;}"]),v=(0,r.default)(f).withConfig({displayName:"game-of-life-embed__OverlayBtn",componentId:"sc-t109en-11"})(["margin-top:12px;padding:6px 16px;font-size:0.75rem;"]);t.default=()=>{const{0:e,1:t}=(0,l.useState)(30),{0:n,1:r}=(0,l.useState)("random"),{0:E,1:y}=(0,l.useState)(150),{0:C,1:w}=(0,l.useState)(!1),{0:x,1:k}=(0,l.useState)(0),{0:_,1:S}=(0,l.useState)(14),{0:R,1:N}=(0,l.useState)(null),I=e,z=e,{0:M,1:P}=(0,l.useState)(()=>{const e=(0,a.Kb)(30,30);return(0,a.P)(e,"random",30,30),e}),G=(0,l.useRef)(null),L=(0,l.useRef)(null),O=(0,l.useRef)(E),T=(0,l.useRef)(!1),B=(0,l.useRef)(1),W=(0,l.useRef)(0),Z=(0,l.useRef)(0),j=(0,l.useRef)(null);O.current=E,(0,l.useEffect)(()=>{const e=(0,a.RZ)(M);e>W.current&&(W.current=e)},[M]),(0,l.useEffect)(()=>{const e=()=>{const e=L.current;if(!e)return;const t=e.clientWidth-8,n=e.clientHeight-8;S(Math.max(4,Math.min(Math.floor(t/z),Math.floor(n/I))))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[I,z]),(0,l.useEffect)(()=>{const e=G.current;if(!e)return;const t=e.getContext("2d"),n=z*_,l=I*_;e.width=n,e.height=l,t.fillStyle="#0d0f11",t.fillRect(0,0,n,l),t.strokeStyle="rgba(127,161,232,0.06)",t.lineWidth=.5;for(let r=0;r<=I;r++)t.beginPath(),t.moveTo(0,r*_),t.lineTo(n,r*_),t.stroke();for(let r=0;r<=z;r++)t.beginPath(),t.moveTo(r*_,0),t.lineTo(r*_,l),t.stroke();t.shadowColor="#7fa1e8";for(let r=0;r<I;r++)for(let e=0;e<z;e++)M[r][e]&&(t.fillStyle="#7fa1e8",t.shadowBlur=3,t.fillRect(e*_+1,r*_+1,_-2,_-2));t.shadowBlur=0},[M,I,z,_]),(0,l.useEffect)(()=>{if(!C)return;const e=setInterval(()=>{P(e=>{const t=(0,a.aN)(e,I,z),n=(0,a.RZ)(t);return 0===n?(w(!1),N({reason:"Extinction â€” all cells died",generations:x+1,peakCells:W.current,finalCells:0,startCells:Z.current}),t):(0,a.Wn)(e,t,I,z)?(w(!1),N({reason:"Stasis â€” stable state reached",generations:x+1,peakCells:W.current,finalCells:n,startCells:Z.current}),t):j.current&&(0,a.Wn)(j.current,t,I,z)?(w(!1),N({reason:"Oscillation â€” repeating cycle detected",generations:x+1,peakCells:W.current,finalCells:n,startCells:Z.current}),t):(j.current=e,k(e=>e+1),t)})},O.current);return()=>clearInterval(e)},[C,E,I,z,x]);const $=(0,l.useCallback)(e=>{const t=G.current,n=t.getBoundingClientRect(),l=t.width/n.width,r=t.height/n.height,a=e.touches?e.touches[0].clientX:e.clientX,o=e.touches?e.touches[0].clientY:e.clientY,i=Math.floor((a-n.left)*l/_),c=Math.floor((o-n.top)*r/_);return c>=0&&c<I&&i>=0&&i<z?{r:c,c:i}:null},[I,z,_]),A=(0,l.useCallback)((e,t,n)=>{P(l=>{const r=l.map(e=>new Uint8Array(e));return r[e][t]=n,r})},[]),D=(0,l.useCallback)(e=>{e.preventDefault();const t=$(e);t&&(T.current=!0,B.current=M[t.r][t.c]?0:1,A(t.r,t.c,B.current))},[$,M,A]),F=(0,l.useCallback)(e=>{if(!T.current)return;e.preventDefault();const t=$(e);t&&A(t.r,t.c,B.current)},[$,A]),K=(0,l.useCallback)(()=>{T.current=!1},[]);(0,l.useEffect)(()=>(window.addEventListener("mouseup",K),window.addEventListener("touchend",K),()=>{window.removeEventListener("mouseup",K),window.removeEventListener("touchend",K)}),[K]);const U=e=>{const t=e||n;w(!1),k(0),N(null),W.current=0,j.current=null;const l=(0,a.Kb)(I,z);(0,a.P)(l,t,I,z),Z.current=(0,a.RZ)(l),W.current=Z.current,P(l)},X=(0,a.RZ)(M);return l.createElement(l.Fragment,null,l.createElement(o,null),l.createElement(i,null,l.createElement(c,null,l.createElement(s,null,l.createElement("label",null,"Pattern"),l.createElement(u,{value:n,onChange:e=>{return t=e.target.value,r(t),void U(t);var t}},Object.entries(a.fG).map(e=>{let[t,n]=e;return l.createElement("option",{key:t,value:t},n.name)}))),l.createElement(s,null,l.createElement("label",null,"Grid ",e,"Ã—",e),l.createElement(d,{type:"range",min:"10",max:"50",value:e,onChange:e=>(e=>{t(e),w(!1),k(0),N(null),W.current=0,j.current=null;const l=(0,a.Kb)(e,e);(0,a.P)(l,n,e,e),Z.current=(0,a.RZ)(l),W.current=Z.current,P(l)})(Number(e.target.value))})),l.createElement(s,null,l.createElement("label",null,"Speed ",E,"ms"),l.createElement(d,{type:"range",min:"30",max:"500",step:"10",value:E,onChange:e=>y(Number(e.target.value))})),l.createElement(f,{$primary:!0,onClick:()=>{C||R||(0===x&&(Z.current=(0,a.RZ)(M)),j.current=null),w(!C)}},C?"â¸":"â–¶"),l.createElement(f,{onClick:()=>U()},"â†º"),l.createElement(f,{onClick:()=>{R||P(e=>{const t=(0,a.aN)(e,I,z);return k(e=>e+1),t})}},"â†’")),l.createElement(m,{ref:L},l.createElement("canvas",{ref:G,onMouseDown:D,onMouseMove:F,onTouchStart:D,onTouchMove:F,style:{cursor:"crosshair",display:"block",borderRadius:4,touchAction:"none"}}),R&&l.createElement(g,null,l.createElement(b,null,"ðŸ Game Over"),l.createElement(h,null,R.reason),l.createElement(h,null,"Generations: ",l.createElement("span",null,R.generations)),l.createElement(h,null,"Starting cells: ",l.createElement("span",null,R.startCells)),l.createElement(h,null,"Peak cells: ",l.createElement("span",null,R.peakCells)),l.createElement(h,null,"Final cells: ",l.createElement("span",null,R.finalCells)),l.createElement(v,{$primary:!0,onClick:()=>U()},"Play Again"))),l.createElement(p,null,l.createElement("div",null,"Gen: ",l.createElement("span",null,x)),l.createElement("div",null,"Live: ",l.createElement("span",null,X)))))}}}]);
//# sourceMappingURL=component---src-pages-game-of-life-embed-js-1e677cefe6160299e09f.js.map